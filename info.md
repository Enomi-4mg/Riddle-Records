---
layout: default
title: "Information"
---

<h1 class="web_title">{{ page.title }}</h1>

## このサイトについて

Riddle Records は、日記・音楽記録・ギャラリーを統合したポートフォリオサイトです。日常の記録から創作物まで、様々なコンテンツを管理・公開する目的で構築されました。このサイトの実装は、モダンなウェブ開発技術と静的サイト生成の効率性を組み合わせた実例となっています。

## 基盤技術：Jekyll

このサイトは **Jekyll** という静的サイトジェネレーターで構築されています。Jekyll は Markdown や HTML ファイルをテンプレートエンジン（Liquid）で処理し、純粋な HTML 出力として変換します。

Markdown で記述した日記や曲情報は、Jekyll のコレクション機能によって自動的に個別ページに展開されます。これにより、データベースやサーバー側の処理を必要とせず、シンプルで安全、かつ高速なサイトを実現しています。

Liquid テンプレート言語を使用することで、ページやコンポーネント間でコンテンツを動的に挿入できます。ヘッダー・フッター・サイドバーといった共通要素は `_includes` ディレクトリで一元管理し、DRY（Do not Repeat Yourself）原則に従って効率的に保守しています。

GitHub Pages との統合により、リポジトリへの push と同時に Jekyll ビルドと自動デプロイが実行されます。これにより、データベースサーバーの維持管理やデプロイ手順が最小化されます。

## マークアップ言語

### HTML5 と Markdown

ページ構造は HTML5 のセマンティック要素（`<article>`、`<section>`、`<nav>` など）で構築されています。一方、日記や曲の詳細情報はすべて Markdown で記述されており、Jekyll がビルド時に HTML に変換します。

Markdown による記述は、プレーンテキストでコンテンツに集中でき、バージョン管理も簡単です。

### YAML での設定管理

サイト全体の設定は `_config.yml` で一元管理されています。サイトのタイトル、URL、プラグイン、ビルド対象のディレクトリなど、重要な設定が YAML 形式で宣言されており、変更時は設定ファイルの更新のみで対応できます。

## スタイリング：CSS3

### Flexbox と CSS Grid

レスポンシブレイアウトは CSS3 の Flexbox と CSS Grid で実装されています。ヘッダーやナビゲーションは Flexbox で柔軟に配置でき、ギャラリーや音楽作品の一覧は CSS Grid で複雑な多列レイアウトを効率的に構成しています。

例えば、ギャラリー表示は `grid-template-columns: repeat(auto-fit, minmax(250px, 1fr))` といった指定により、ビューポート幅に応じて自動的に列数を調整し、無駄なく余白を活用します。

### メディアクエリによるレスポンシブデザイン

デスクトップ・タブレット・モバイル各段階で異なるレイアウトを提供します。

- **デスクトップ（769px以上）**: ヘッダーに全ナビゲーションを表示、サイドバーは非表示
- **タブレット（601～1024px）**: ハンバーガーメニューを導入、グリッド表示を3列に調整
- **モバイル（600px以下）**: ハンバーガーメニュー、グリッド表示を2列に簡略化

このアプローチにより、あらゆるデバイスで最適な表示を実現しています。

## インタラクティブ機能：JavaScript

### ES6+ と非同期処理

ページのインタラクティブ機能は JavaScript（ES6+）で実装されています。非同期処理（async/await）を活用し、複数のリソース読み込みを並列化してページロード時間を短縮しています。

### サイドバーメニュー

モバイル表示時のハンバーガーメニューは JavaScript で show/hide 状態を管理しており、CSS トランジションで smooth な開閉アニメーションを実現しています。

### アバター自動読み込み

サイト作者の SNS プロフィール（X・YouTube）から自動的にアバター情報を取得する機能を実装しています。Unavatar API を利用し、複数の非同期リクエストを Promise で処理し、ページの読み込み完了後に段階的にコンテンツを表示します。

## 外部ライブラリ・サービス

### Font Awesome

アイコン表示には Font Awesome 6.5.0 を CDN 経由で読み込んでいます。ナビゲーションやボタンなど、UI 要素のビジュアル表現を効率的に実現しています。

### Lightbox2

ギャラリーページの画像表示には Lightbox2 ライブラリを利用しています。画像をクリックするとモーダルウィンドウで拡大表示でき、前後の画像へのナビゲーション機能も備えています。これにより、ユーザーが新しいページに遷移することなくギャラリーを閲覧できます。

### Google Fonts

サイト全体のフォントには Google Fonts の「Kiwi Maru」を採用しています。日本語に対応した serif フォントであり、Google Fonts API を介して配信されます。

### Cloudinary

画像の最適化・変換サービスとして Cloudinary を活用しています。複数の解像度・フォーマットに対応した画像配信により、ネットワーク帯域幅の効率化と読み込み速度の向上を実現しています。

## パフォーマンス・デプロイ

### パフォーマンス最適化

複数の最適化手法を実装しています。

- **DNS Prefetch**: CDN や外部リソースの DNS 解決時間を短縮
- **Preconnect**: Google Fonts への接続確立を事前に行い、フォント読み込み遅延を削減
- **Defer 読み込み**: スクリプトの defer 属性により、HTML パース中の JavaScript 実行ブロックを回避
- **Aspect Ratio の固定**: 画像領域の Aspect Ratio を CSS で定義し、レイアウトシフトを防止

これらにより、Core Web Vitals の改善と快適なページ体験を実現しています。

### GitHub Pages による自動デプロイ

リポジトリへの push と同時に GitHub Actions が Jekyll ビルドを実行し、生成された HTML ファイルを自動的にデプロイします。これにより、手動のビルド・デプロイ作業が不要となり、開発に集中できます。

---

このサイトは、静的生成の効率性とモダンなフロントエンド技術を組み合わせた実装例です。[GitHub リポジトリ](https://github.com/enomi-4mg/Riddle-Records) で全ソースコードを公開しています。
